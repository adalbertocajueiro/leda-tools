<!DOCTYPE html>
<html lang="en">

<head>
  <title>Menu inicial do Sistema LEDA</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="./jquery/ui/1.12.1/jquery-ui.css" rel="stylesheet">
  <link href="./tether/1.3.3/css/tether.css" rel="stylesheet">
  <link href="./bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet">
  <link href="css/leda.css" rel="stylesheet"> 
  <!-- Google App Meta Tags -->
  <meta name="google-signin-scope" content="profile email">
  <meta name="google-signin-client_id" content="93476930298-dcdjdcu4uk9kb9892isecsl80go05mlo.apps.googleusercontent.com">
  <script src="https://apis.google.com/js/platform.js" async defer></script>


  <!-- link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" -->
  <script src="./tether/1.3.3/js/tether.min.js"></script>
  <script type="text/javascript" src="./jquery/3.1.1/jquery.min.js"></script>
  <script src="./jquery/ui/1.12.1/jquery-ui.js"></script>
  <script src="./tether/1.3.3/js/tether.min.js"></script>
  <script type="text/javascript" src="./bootstrap/4.0.0/js/bootstrap.min.js"></script>

</head>

<body data-spy="scroll" data-target="#myScrollspy" data-offset="15">

  <br>
  <div class="container">
    <div class="row">
      <nav class="col-sm-3" id="myScrollspy">
        <ul class="nav nav-pills navbar-brand" data-spy="affix" data-offset-top="105">
          <li class="col-form-label"><a class="btn btn-secondary nav-link" href="alunos" target="rightframe">Estudantes</a></li>
          <li class="col-form-label"><a class="btn btn-secondary nav-link" href="cronograma" target="rightframe">Cronogramas</a></li>
          <li class="dropdown col-form-label">
            <a class="dropdown-toggle btn btn-secondary nav-link" data-toggle="dropdown">Participação<span class="caret"></span></a>
            <ul class="dropdown-menu">
              <li><a class="btn-secondary nav-link" href="submissoes?showAll=false" target="rightframe">Submissões</a></li>
              <li><a class="btn-secondary nav-link" href="notas" target="rightframe">Notas</a></li>
              <li><a class="btn-secondary nav-link" href="faltas" target="rightframe">Faltas</a></li>
            </ul>
          </li>
          <li class="col-form-label"><a class="btn btn-secondary nav-link" href="roteirosEspeciais" target="rightframe">Roteiros
              Especiais</a></li>
          <li class="col-form-label"><a class="btn btn-secondary nav-link" href="config" target="rightframe"
              data-toggle="tooltip" data-placement="bottom" title="Veja as datas dos roteiros e provas">Configurações</a></li>
          <li class="col-form-label"><a id="my-signin2" target="rightframe">Login</a></li>
          <li class="dropdown col-form-label">
            <a class="dropdown-toggle btn btn-secondary nav-link" data-toggle="dropdown" id="account">Conta<span class="caret"></span></a>
            <ul class="dropdown-menu">
              <li><a class="btn-secondary nav-link" href="" target="rightframe" onclick="signOut()">Logout</a></li>
              <li><a class="btn-secondary nav-link" href="#" target="rightframe">Lorem Ipsum</a></li>
            </ul>
          </li>
          <!-- li class="dropdown col-form-label">
            <a class="dropdown-toggle btn btn-secondary nav-link" data-toggle="dropdown" href="#">Section 4 <span class="caret"></span></a>
            <ul class="dropdown-menu">
              <li><a class="nav-link" href="#section41">Section 4-1</a></li>
              <li><a class="nav-link" href="#section42">Section 4-2</a></li>
            </ul>
          </li -->
        </ul>
      </nav>

    </div>
  </div>
  </div>

  <script>

    function init() {
      gapi.load('auth2', function () {
        auth2 = gapi.auth2.init({
          client_id: '93476930298-dcdjdcu4uk9kb9892isecsl80go05mlo.apps.googleusercontent.com',
          cookiepolicy: 'single_host_origin',
          hosted_domain: 'ccc.ufcg.edu.br'
        });
      });
    }

    function renderAccountSettings() {
      let status = gapi.auth2.getAuthInstance().isSignedIn.get();
      let accountSettingsDropdown = $("#account");
      if (status){
        account.css("display", "block");
      } else {
        account.css("display", "none");
      }
    }

    function signOut() {
      gapi.auth2.getAuthInstance().signOut()
      location.reload(true);
    }

    function onSuccess(googleUser) {
      console.log('Logged in as: ' + googleUser.getBasicProfile().getName());
      console.log(googleUser.getBasicProfile());
      console.log(googleUser.getAuthResponse().id_token);
    }

    function onFailure(error) {
      console.log(error);
    }

    function renderButton() {
      gapi.signin2.render('my-signin2', {
        'scope': 'profile email',
        'width': 'auto',
        'onsuccess': onSuccess,
        'onfailure': onFailure
      });
    }
  </script>
  <script src="https://apis.google.com/js/platform.js?onload=renderButton" async defer></script>
  <script src="https://apis.google.com/js/platform.js?onload=init" async defer></script>
  <script>
    $(document).ready(function () {
      $('[data-toggle="tooltip"]').tooltip();
      init(); 
    });
  </script>

</body>

</html>